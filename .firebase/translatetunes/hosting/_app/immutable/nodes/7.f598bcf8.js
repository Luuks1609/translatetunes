import{s as Et,o as dt,e as mt,g as p,l as gt,h as g,i as k,m as vt,j as Rt,k as v,w as F,c as G,d as H,C as ft,A as Pt}from"../chunks/scheduler.635b56cd.js";import{h as ht,T as _t,u as Dt}from"../chunks/TrackSearchResult.6780c042.js";import{g as St}from"../chunks/globals.7f7f1b26.js";import{S as Tt,i as jt,d as J,v as Vt,a as Z,b as W,t as z,e as h,n as m,s as bt,j as Q,k as U,g as f,m as X,q as Ct,l as Y}from"../chunks/index.1e81eea3.js";import{A as kt}from"../chunks/AlbumSearchResult.1e4e593c.js";import{A as wt}from"../chunks/ArtistSearchResult.2aadac5b.js";import{c as L}from"../chunks/utils.808755f5.js";import{I as $t}from"../chunks/Icon.20649865.js";const{console:pt}=St,_="src/routes/(protected)/artist/[id]/+page.svelte";function yt(a){let t,r=a[4].message+"",l;const s={c:function(){t=p("p"),l=gt(r),this.h()},l:function(n){t=g(n,"P",{style:!0});var o=k(t);l=vt(o,r),o.forEach(h),this.h()},h:function(){Rt(t,"color","red"),v(t,_,85,1,2737)},m:function(n,o){Z(n,t,o),m(t,l)},p:function(n,o){o&2&&r!==(r=n[4].message+"")&&bt(l,r)},i:F,o:F,d:function(n){n&&h(t)}};return J("SvelteRegisterBlock",{block:s,id:yt.name,type:"catch",source:"(85:0) {:catch error}",ctx:a}),s}function At(a){var ot,it,ct,lt;let t,r,l,s,e,n,o,c,I,u,j,w,$,E,V=((ot=a[0])==null?void 0:ot.getArtist.name)+"",K,x,b,R,tt,P,et,D,S,st,rt;n=new $t({props:{icon:"bi:chevron-left",class:"text-white ",height:"18"},$$inline:!0}),R=new _t({props:{results:(it=a[0])==null?void 0:it.getTopTracks.tracks,title:"Popular Tracks"},$$inline:!0}),P=new kt({props:{results:(ct=a[0])==null?void 0:ct.getAlbums.items,title:"Albums"},$$inline:!0}),D=new wt({props:{results:(lt=a[0])==null?void 0:lt.getRelatedArtists.artists,title:"Related Artists"},$$inline:!0});const nt={c:function(){t=p("div"),r=p("div"),l=p("div"),s=p("div"),e=p("div"),Q(n.$$.fragment),o=G(),c=p("img"),j=G(),w=p("div"),$=p("div"),E=p("h1"),K=gt(V),x=G(),b=p("div"),Q(R.$$.fragment),tt=G(),Q(P.$$.fragment),et=G(),Q(D.$$.fragment),this.h()},l:function(i){t=g(i,"DIV",{class:!0});var d=k(t);r=g(d,"DIV",{class:!0});var y=k(r);l=g(y,"DIV",{class:!0});var C=k(l);s=g(C,"DIV",{class:!0});var B=k(s);e=g(B,"DIV",{class:!0});var q=k(e);U(n.$$.fragment,q),q.forEach(h),B.forEach(h),C.forEach(h),o=H(y),c=g(y,"IMG",{class:!0,src:!0,alt:!0}),j=H(y),w=g(y,"DIV",{class:!0});var N=k(w);$=g(N,"DIV",{class:!0});var M=k($);E=g(M,"H1",{class:!0});var O=k(E);K=vt(O,V),O.forEach(h),M.forEach(h),N.forEach(h),y.forEach(h),x=H(d),b=g(d,"DIV",{class:!0});var A=k(b);U(R.$$.fragment,A),tt=H(A),U(P.$$.fragment,A),et=H(A),U(D.$$.fragment,A),A.forEach(h),d.forEach(h),this.h()},h:function(){var i,d;f(e,"class","bg-dark-gray w-fit rounded-lg border border-b-4 border-gray-700 p-3 px-3 cursor-pointer"),v(e,_,57,5,1726),f(s,"class","p-4"),v(s,_,54,4,1577),f(l,"class","absolute top-0 left-0 right-0"),v(l,_,53,3,1529),f(c,"class","w-full h-full object-cover"),ft(c.src,I=(i=a[0])==null?void 0:i.getArtist.images[0].url)||f(c,"src",I),f(c,"alt",u=(d=a[0])==null?void 0:d.getArtist.name),v(c,_,65,3,1984),f(E,"class","text-4xl font-bold"),v(E,_,73,5,2299),f($,"class","p-4"),v($,_,72,4,2276),f(w,"class","absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black text-white"),v(w,_,71,3,2186),f(r,"class","relative w-full h-1/3"),v(r,_,52,2,1490),f(b,"class","p-4"),v(b,_,77,2,2390),f(t,"class","relative w-full min-h-screen"),v(t,_,50,1,1395)},m:function(i,d){Z(i,t,d),m(t,r),m(r,l),m(l,s),m(s,e),X(n,e,null),m(r,o),m(r,c),m(r,j),m(r,w),m(w,$),m($,E),m(E,K),m(t,x),m(t,b),X(R,b,null),m(b,tt),X(P,b,null),m(b,et),X(D,b,null),S=!0,st||(rt=Ct(e,"click",a[2],!1,!1,!1,!1),st=!0)},p:function(i,d){var q,N,M,O,A,ut;(!S||d&2&&!ft(c.src,I=(q=i[0])==null?void 0:q.getArtist.images[0].url))&&f(c,"src",I),(!S||d&2&&u!==(u=(N=i[0])==null?void 0:N.getArtist.name))&&f(c,"alt",u),(!S||d&2)&&V!==(V=((M=i[0])==null?void 0:M.getArtist.name)+"")&&bt(K,V);const y={};d&2&&(y.results=(O=i[0])==null?void 0:O.getTopTracks.tracks),R.$set(y);const C={};d&2&&(C.results=(A=i[0])==null?void 0:A.getAlbums.items),P.$set(C);const B={};d&2&&(B.results=(ut=i[0])==null?void 0:ut.getRelatedArtists.artists),D.$set(B)},i:function(i){S||(W(n.$$.fragment,i),W(R.$$.fragment,i),W(P.$$.fragment,i),W(D.$$.fragment,i),S=!0)},o:function(i){z(n.$$.fragment,i),z(R.$$.fragment,i),z(P.$$.fragment,i),z(D.$$.fragment,i),S=!1},d:function(i){i&&h(t),Y(n),Y(R),Y(P),Y(D),st=!1,rt()}};return J("SvelteRegisterBlock",{block:nt,id:At.name,type:"then",source:"(50:0) {:then data}",ctx:a}),nt}function It(a){let t,r="...waiting";const l={c:function(){t=p("p"),t.textContent=r,this.h()},l:function(e){t=g(e,"P",{"data-svelte-h":!0}),Pt(t)!=="svelte-mv6tav"&&(t.textContent=r),this.h()},h:function(){v(t,_,48,1,1363)},m:function(e,n){Z(e,t,n)},p:F,i:F,o:F,d:function(e){e&&h(t)}};return J("SvelteRegisterBlock",{block:l,id:It.name,type:"pending",source:"(48:16)   <p>...waiting</p> {:then data}",ctx:a}),l}function at(a){let t,r,l,s={ctx:a,current:null,token:null,hasCatch:!0,pending:It,then:At,catch:yt,value:0,error:4,blocks:[,,,]};ht(r=a[1],s);const e={c:function(){t=mt(),s.block.c()},l:function(o){t=mt(),s.block.l(o)},m:function(o,c){Z(o,t,c),s.block.m(o,s.anchor=c),s.mount=()=>t.parentNode,s.anchor=t,l=!0},p:function(o,[c]){a=o,s.ctx=a,c&2&&r!==(r=a[1])&&ht(r,s)||Dt(s,a,c)},i:function(o){l||(W(s.block),l=!0)},o:function(o){for(let c=0;c<3;c+=1){const I=s.blocks[c];z(I)}l=!1},d:function(o){o&&h(t),s.block.d(o),s.token=null,s=null}};return J("SvelteRegisterBlock",{block:e,id:at.name,type:"component",source:"",ctx:a}),e}function Bt(a,t,r){let{$$slots:l={},$$scope:s}=t;Vt("Page",l,[]);let{data:e}=t;const n=async()=>{try{const u=await L(`https://api.spotify.com/v1/artists/${e.props.artistId}`),j=await L(`https://api.spotify.com/v1/artists/${e.props.artistId}/albums`),w=await L(`https://api.spotify.com/v1/artists/${e.props.artistId}/top-tracks?market=NL`),$=await L(`https://api.spotify.com/v1/artists/${e.props.artistId}/related-artists`);return{getArtist:u,getAlbums:j,getTopTracks:w,getRelatedArtists:$}}catch(u){console.error(u)}};let o=n();dt(()=>{r(1,o=n())}),a.$$.on_mount.push(function(){e===void 0&&!("data"in t||a.$$.bound[a.$$.props.data])&&pt.warn("<Page> was created without expected prop 'data'")});const c=["data"];Object.keys(t).forEach(u=>{!~c.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&pt.warn(`<Page> was created with unknown prop '${u}'`)});const I=()=>history.back();return a.$$set=u=>{"data"in u&&r(0,e=u.data)},a.$capture_state=()=>({AlbumSearchResult:kt,ArtistSearchResult:wt,TrackSearchResult:_t,callWithRetry:L,Icon:$t,onMount:dt,data:e,getArtist:n,promise:o}),a.$inject_state=u=>{"data"in u&&r(0,e=u.data),"promise"in u&&r(1,o=u.promise)},t&&"$$inject"in t&&a.$inject_state(t.$$inject),[e,o,I]}class zt extends Tt{constructor(t){super(t),jt(this,t,Bt,at,Et,{data:0}),J("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:at.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{zt as component};
